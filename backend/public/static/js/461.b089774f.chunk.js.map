{"version":3,"file":"static/js/461.b089774f.chunk.js","mappings":"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","sources":["components/DesignationManagement.jsx","pages/superadmin/organization/DesignationsPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n    Plus,\r\n    Edit2,\r\n    Trash2,\r\n    CheckCircle,\r\n    XCircle,\r\n    Search,\r\n    AlertCircle,\r\n    X,\r\n    ChevronUp,\r\n    ChevronDown,\r\n} from \"lucide-react\";\r\nimport axios from \"../api/axios\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\n\r\nconst DesignationManagement = () => {\r\n    const { user } = useAuth();\r\n    const [designations, setDesignations] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [modalMode, setModalMode] = useState(\"create\"); // 'create' or 'edit'\r\n    const [currentDesignation, setCurrentDesignation] = useState(null);\r\n    const [formData, setFormData] = useState({\r\n        name: \"\",\r\n        // level: \"\",\r\n        description: \"\",\r\n        is_active: true,\r\n    });\r\n    const [errors, setErrors] = useState({});\r\n    const [submitLoading, setSubmitLoading] = useState(false);\r\n    const [notification, setNotification] = useState(null);\r\n\r\n    // Permission check\r\n    // user.role_id: 1=SuperAdmin, 2=Admin, 3=HR\r\n    const canManage = user?.role_id === 1 || user?.role_id === 2 || user?.role_id === 3 || user?.permissions?.includes(\"can_manage_designations\") || user?.can_manage_designations;\r\n\r\n    const fetchDesignations = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const response = await axios.get(\"/designations\");\r\n            setDesignations(response.data);\r\n        } catch (error) {\r\n            console.error(\"Error fetching designations:\", error);\r\n            showNotification(\"error\", \"Failed to fetch designations.\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchDesignations();\r\n    }, []);\r\n\r\n    const showNotification = (type, message) => {\r\n        setNotification({ type, message });\r\n        setTimeout(() => setNotification(null), 3000);\r\n    };\r\n\r\n    const handleOpenModal = (mode, designation = null) => {\r\n        setModalMode(mode);\r\n        setCurrentDesignation(designation);\r\n        setFormData({\r\n            name: designation ? designation.name : \"\",\r\n            // level: designation ? designation.level : \"\", \r\n            description: designation?.description || \"\",\r\n            is_active: designation ? designation.is_active : true,\r\n        });\r\n        setErrors({});\r\n        setShowModal(true);\r\n    };\r\n\r\n    const handleCloseModal = () => {\r\n        setShowModal(false);\r\n        setCurrentDesignation(null);\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setSubmitLoading(true);\r\n        setErrors({});\r\n\r\n        try {\r\n            if (modalMode === \"create\") {\r\n                await axios.post(\"/designations\", formData);\r\n                showNotification(\"success\", \"Designation created successfully!\");\r\n            } else {\r\n                await axios.put(`/designations/${currentDesignation.id}`, formData);\r\n                showNotification(\"success\", \"Designation updated successfully!\");\r\n            }\r\n            fetchDesignations();\r\n            handleCloseModal();\r\n        } catch (error) {\r\n            if (error.response && error.response.status === 422) {\r\n                setErrors(error.response.data.errors);\r\n            } else {\r\n                showNotification(\"error\", error.response?.data?.message || \"Operation failed.\");\r\n            }\r\n        } finally {\r\n            setSubmitLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (id) => {\r\n        if (!window.confirm(\"Are you sure you want to delete this designation?\")) return;\r\n\r\n        try {\r\n            await axios.delete(`/designations/${id}`);\r\n            showNotification(\"success\", \"Designation deleted successfully!\");\r\n            fetchDesignations();\r\n        } catch (error) {\r\n            showNotification(\"error\", error.response?.data?.message || \"Failed to delete.\");\r\n        }\r\n    };\r\n\r\n    const handleToggleStatus = async (id, currentStatus) => {\r\n        // Optimistic update\r\n        const updatedList = designations.map(d =>\r\n            d.id === id ? { ...d, is_active: !currentStatus } : d\r\n        );\r\n        setDesignations(updatedList);\r\n\r\n        try {\r\n            await axios.put(`/designations/${id}`, { ...designations.find(d => d.id === id), is_active: !currentStatus });\r\n            showNotification(\"success\", \"Status updated.\");\r\n            fetchDesignations(); // Refresh to be sure\r\n        } catch (error) {\r\n            showNotification(\"error\", \"Failed to update status.\");\r\n            fetchDesignations(); // Revert\r\n        }\r\n    };\r\n\r\n    const filteredDesignations = designations.filter((designation) =>\r\n        designation.name.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n\r\n    return (\r\n        <div className=\"h-full flex flex-col bg-gray-50 dark:bg-gray-900 transition-colors duration-200\">\r\n            {/* Header matches AdminEmployeesPage */}\r\n            <div className=\"flex justify-between items-center p-6 border-b bg-white dark:bg-gray-800 dark:border-gray-700 shadow-sm\">\r\n                <div>\r\n                    <h1 className=\"text-2xl font-bold text-gray-800 dark:text-white\">Designations</h1>\r\n                    <p className=\"text-sm text-gray-500 dark:text-gray-400\">Define hierarchy and organizational titles</p>\r\n                </div>\r\n                {canManage && (\r\n                    <button\r\n                        onClick={() => handleOpenModal(\"create\")}\r\n                        className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded shadow transition duration-150 ease-in-out\"\r\n                    >\r\n                        <Plus size={18} />\r\n                        Add Designation\r\n                    </button>\r\n                )}\r\n            </div>\r\n\r\n            {/* Content Area */}\r\n            <div className=\"flex-1 overflow-auto p-6\">\r\n\r\n                {/* Notification */}\r\n                {notification && (\r\n                    <div\r\n                        className={`mb-4 p-4 rounded-lg flex items-center gap-2 shadow-sm ${notification.type === \"success\"\r\n                            ? \"bg-green-100 text-green-700 border border-green-200\"\r\n                            : \"bg-red-100 text-red-700 border border-red-200\"\r\n                            }`}\r\n                    >\r\n                        {notification.type === \"success\" ? <CheckCircle size={20} /> : <AlertCircle size={20} />}\r\n                        {notification.message}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Search Bar */}\r\n                <div className=\"mb-6\">\r\n                    <div className=\"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 flex flex-wrap gap-4 items-center\">\r\n                        <div className=\"relative w-full max-w-[300px]\">\r\n                            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" size={18} />\r\n                            <label htmlFor=\"search-designations\" className=\"sr-only\">Search Designations</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                id=\"search-designations\"\r\n                                name=\"search\"\r\n                                autoComplete=\"off\"\r\n                                placeholder=\"Search designations...\"\r\n                                className=\"w-full pl-10 pr-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg outline-none bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500\"\r\n                                value={searchTerm}\r\n                                onChange={(e) => setSearchTerm(e.target.value)}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Table */}\r\n                <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden border border-gray-200 dark:border-gray-700\">\r\n                    <table className=\"w-full text-left border-collapse\">\r\n                        <thead>\r\n                            <tr className=\"bg-gray-50 dark:bg-gray-700/50 border-b border-gray-200 dark:border-gray-700\">\r\n                                {/* <th className=\"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\r\n                                    Hierarchy Level\r\n                                </th> */}\r\n                                <th className=\"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\r\n                                    Name\r\n                                </th>\r\n                                <th className=\"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\r\n                                    Description\r\n                                </th>\r\n                                <th className=\"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\r\n                                    Status\r\n                                </th>\r\n                                {canManage && (\r\n                                    <th className=\"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider text-right\">\r\n                                        Actions\r\n                                    </th>\r\n                                )}\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"divide-y divide-gray-200 dark:divide-gray-700\">\r\n                            {loading ? (\r\n                                <tr>\r\n                                    <td colSpan=\"5\" className=\"px-6 py-12 text-center text-gray-500 dark:text-gray-400\">\r\n                                        Loading designations...\r\n                                    </td>\r\n                                </tr>\r\n                            ) : filteredDesignations.length === 0 ? (\r\n                                <tr>\r\n                                    <td colSpan=\"5\" className=\"px-6 py-12 text-center text-gray-500 dark:text-gray-400\">\r\n                                        No designations found.\r\n                                    </td>\r\n                                </tr>\r\n                            ) : (\r\n                                filteredDesignations.map((designation) => (\r\n                                    <tr key={designation.id} className=\"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors\">\r\n                                        {/* <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\r\n                                            <span className=\"inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 font-bold ring-1 ring-blue-200 dark:ring-blue-800\">\r\n                                                {designation.level}\r\n                                            </span>\r\n                                        </td> */}\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white\">\r\n                                            {designation.name}\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 text-sm text-gray-500 dark:text-gray-400 max-w-xs truncate\">\r\n                                            {designation.description || \"-\"}\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                            <span\r\n                                                className={`px-3 py-1 rounded-full text-xs font-medium ${designation.is_active\r\n                                                    ? \"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300\"\r\n                                                    : \"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300\"\r\n                                                    }`}\r\n                                            >\r\n                                                {designation.is_active ? \"Active\" : \"Inactive\"}\r\n                                            </span>\r\n                                        </td>\r\n                                        {canManage && (\r\n                                            <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\r\n                                                <div className=\"flex items-center justify-end gap-3\">\r\n                                                    <button\r\n                                                        onClick={() => handleToggleStatus(designation.id, designation.is_active)}\r\n                                                        className={`text-xs ${designation.is_active ? 'text-red-600 hover:text-red-900' : 'text-green-600 hover:text-green-900'}`}\r\n                                                    >\r\n                                                        {designation.is_active ? 'Disable' : 'Enable'}\r\n                                                    </button>\r\n                                                    <button\r\n                                                        onClick={() => handleOpenModal(\"edit\", designation)}\r\n                                                        className=\"text-blue-600 hover:text-blue-900\"\r\n                                                    >\r\n                                                        Edit\r\n                                                    </button>\r\n                                                    <button\r\n                                                        onClick={() => handleDelete(designation.id)}\r\n                                                        className=\"text-red-600 hover:text-red-900\"\r\n                                                    >\r\n                                                        Delete\r\n                                                    </button>\r\n                                                </div>\r\n                                            </td>\r\n                                        )}\r\n                                    </tr>\r\n                                ))\r\n                            )}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Modal */}\r\n            {showModal && (\r\n                <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm\">\r\n                    <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md border border-gray-200 dark:border-gray-700 animate-in fade-in zoom-in duration-200\">\r\n                        <div className=\"flex justify-between items-center p-6 border-b border-gray-100 dark:border-gray-700\">\r\n                            <h2 className=\"text-xl font-bold text-gray-900 dark:text-white\">\r\n                                {modalMode === \"create\" ? \"Add Designation\" : \"Edit Designation\"}\r\n                            </h2>\r\n                            <button\r\n                                onClick={handleCloseModal}\r\n                                className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors\"\r\n                            >\r\n                                <X size={20} />\r\n                            </button>\r\n                        </div>\r\n\r\n                        <form onSubmit={handleSubmit} className=\"p-6 space-y-4\">\r\n                            <div>\r\n                                <label htmlFor=\"designation_name\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                                    Designation Name <span className=\"text-red-500\">*</span>\r\n                                </label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    id=\"designation_name\"\r\n                                    name=\"name\"\r\n                                    autoComplete=\"off\"\r\n                                    required\r\n                                    className=\"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none transition-colors\"\r\n                                    placeholder=\"e.g. Senior Developer\"\r\n                                    value={formData.name}\r\n                                    onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n                                />\r\n                                {errors.name && <p className=\"text-red-500 text-xs mt-1\">{errors.name[0]}</p>}\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label htmlFor=\"designation_description\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                                    Description\r\n                                </label>\r\n                                <textarea\r\n                                    id=\"designation_description\"\r\n                                    name=\"description\"\r\n                                    autoComplete=\"off\"\r\n                                    className=\"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none transition-colors resize-none h-24\"\r\n                                    placeholder=\"Optional description...\"\r\n                                    value={formData.description || \"\"}\r\n                                    onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                                />\r\n                                {errors.description && <p className=\"text-red-500 text-xs mt-1\">{errors.description[0]}</p>}\r\n                            </div>\r\n\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    id=\"is_active\"\r\n                                    name=\"is_active\"\r\n                                    className=\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600\"\r\n                                    checked={formData.is_active}\r\n                                    onChange={(e) => setFormData({ ...formData, is_active: e.target.checked })}\r\n                                />\r\n                                <label htmlFor=\"is_active\" className=\"text-sm font-medium text-gray-900 dark:text-gray-300\">\r\n                                    Active Status\r\n                                </label>\r\n                            </div>\r\n\r\n                            <div className=\"pt-4 flex gap-3\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={handleCloseModal}\r\n                                    className=\"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 rounded-lg transition-colors font-medium\"\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    disabled={submitLoading}\r\n                                    className=\"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center gap-2\"\r\n                                >\r\n                                    {submitLoading ? (\r\n                                        <>\r\n                                            <div className=\"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\r\n                                            Saving...\r\n                                        </>\r\n                                    ) : (\r\n                                        \"Save Designation\"\r\n                                    )}\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DesignationManagement;\r\n","import React from \"react\";\r\nimport DesignationManagement from \"../../../components/DesignationManagement\";\r\n\r\nconst DesignationsPage = () => {\r\n    return <DesignationManagement />;\r\n};\r\n\r\nexport default DesignationsPage;\r\n"],"names":["DesignationManagement","_user$permissions","user","useAuth","designations","setDesignations","useState","loading","setLoading","searchTerm","setSearchTerm","showModal","setShowModal","modalMode","setModalMode","currentDesignation","setCurrentDesignation","formData","setFormData","name","description","is_active","errors","setErrors","submitLoading","setSubmitLoading","notification","setNotification","canManage","role_id","permissions","includes","can_manage_designations","fetchDesignations","async","response","axios","get","data","error","console","showNotification","useEffect","type","message","setTimeout","handleOpenModal","mode","designation","arguments","length","undefined","handleCloseModal","filteredDesignations","filter","toLowerCase","_jsxs","className","children","_jsx","onClick","Plus","size","concat","CheckCircle","AlertCircle","Search","htmlFor","id","autoComplete","placeholder","value","onChange","e","target","colSpan","map","currentStatus","updatedList","d","_objectSpread","put","find","handleToggleStatus","window","confirm","delete","_error$response2","_error$response2$data","handleDelete","X","onSubmit","preventDefault","post","_error$response","_error$response$data","status","required","checked","disabled","_Fragment","DesignationsPage"],"sourceRoot":""}