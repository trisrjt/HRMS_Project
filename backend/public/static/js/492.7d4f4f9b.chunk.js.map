{"version":3,"file":"static/js/492.7d4f4f9b.chunk.js","mappings":"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","sources":["pages/employees/SalariesPage.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport api from \"../../api/axios\";\r\n\r\n// --- UI Components ---\r\n\r\nconst Button = ({ children, onClick, disabled, variant = \"primary\", className, type = \"button\" }) => {\r\n    const variants = {\r\n        primary: \"bg-blue-600 hover:bg-blue-700 text-white shadow-md hover:shadow-lg disabled:bg-blue-300 disabled:shadow-none\",\r\n        secondary: \"bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50\",\r\n        destructive: \"bg-red-600 hover:bg-red-700 text-white shadow-md hover:shadow-lg disabled:bg-red-300 disabled:shadow-none\"\r\n    };\r\n\r\n    return (\r\n        <button\r\n            type={type}\r\n            onClick={onClick}\r\n            disabled={disabled}\r\n            className={`px-5 py-2.5 rounded-lg font-medium text-sm transition-all duration-200 flex items-center justify-center ${variants[variant]} ${disabled ? 'cursor-not-allowed' : 'cursor-pointer'} ${className}`}\r\n        >\r\n            {children}\r\n        </button>\r\n    );\r\n};\r\n\r\nconst Card = ({ children, className }) => (\r\n    <div className={`bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 transition-colors duration-200 ${className}`}>\r\n        {children}\r\n    </div>\r\n);\r\n\r\nconst Alert = ({ children, variant = \"error\" }) => (\r\n    <div className={`p-4 rounded-lg mb-4 text-sm border ${variant === \"error\"\r\n        ? \"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 text-red-700 dark:text-red-400\"\r\n        : variant === \"info\"\r\n            ? \"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-400\"\r\n            : \"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-800 text-emerald-700 dark:text-emerald-400\"\r\n        }`}>\r\n        {children}\r\n    </div>\r\n);\r\n\r\n// --- Main Page Component ---\r\n\r\nconst SalariesPage = () => {\r\n    const navigate = useNavigate();\r\n    const [salary, setSalary] = useState(null);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchSalary = async () => {\r\n            try {\r\n                // Using /my-salary as verified in backend (API logic: Route::get('/my-salary', ...))\r\n                const { data } = await api.get(\"/my-salary\");\r\n\r\n                // If it returns a list (e.g. salary history), take the latest. \r\n                // Checks logic: $salary = Salary::where('employee_id', $employee->id)->latest()->first();\r\n                // If backend returns object directly:\r\n                if (data && data.salary === null) {\r\n                    setSalary(null);\r\n                } else if (data && data.id) {\r\n                    setSalary(data); // Single object\r\n                } else if (Array.isArray(data) && data.length > 0) {\r\n                    setSalary(data[0]); // Take first if array\r\n                } else {\r\n                    setSalary(data);\r\n                }\r\n\r\n            } catch (err) {\r\n                console.error(\"Salary fetch error:\", err);\r\n                if (err.response && err.response.status === 404) {\r\n                    // Start treating 404 as \"No salary found\" not error if just missing record\r\n                    setSalary(null);\r\n                } else {\r\n                    setError(\"Failed to load salary details.\");\r\n                }\r\n            } finally {\r\n                setIsLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchSalary();\r\n    }, []);\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"flex justify-center items-center h-screen bg-gray-50 dark:bg-gray-900 text-gray-500 dark:text-gray-400 transition-colors\">\r\n                <div className=\"text-xl font-medium animate-pulse\">Loading Salary...</div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-6 max-w-[1200px] mx-auto bg-gray-50 dark:bg-gray-900 min-h-screen transition-colors duration-200\">\r\n\r\n            {/* Header */}\r\n            <div className=\"flex justify-between items-center mb-8 flex-wrap gap-4\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">My Salary</h1>\r\n                    <p className=\"text-gray-500 dark:text-gray-400 mt-1\">View your current salary structure</p>\r\n                </div>\r\n                <div>\r\n                    <Button variant=\"secondary\" onClick={() => navigate(\"/employee/dashboard\")}>\r\n                        Back to Dashboard\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Error Alert */}\r\n            {error && <Alert variant=\"error\">{error}</Alert>}\r\n\r\n            {/* No Salary Message */}\r\n            {!isLoading && !error && !salary && (\r\n                <div className=\"flex justify-center\">\r\n                    <div className=\"max-w-md w-full\">\r\n                        <Alert variant=\"info\">\r\n                            Salary details not found. Please contact HR or Admin.\r\n                        </Alert>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Salary Details Card */}\r\n            {salary && (\r\n                <Card className=\"p-8 max-w-3xl mx-auto\">\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12\">\r\n                        {/* Earnings Section */}\r\n                        <div>\r\n                            <h3 className=\"text-lg font-semibold mb-4 text-gray-800 dark:text-gray-200 border-b-2 border-gray-100 dark:border-gray-700 pb-2\">\r\n                                Earnings\r\n                            </h3>\r\n                            <div className=\"flex flex-col gap-4\">\r\n                                <div className=\"flex justify-between items-center pb-2 border-b border-gray-50 dark:border-gray-800\">\r\n                                    <span className=\"text-gray-500 dark:text-gray-400\">Basic Salary</span>\r\n                                    <span className=\"font-semibold text-gray-900 dark:text-white\">₹{Number(salary.basic || 0).toFixed(2)}</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between items-center pb-2 border-b border-gray-50 dark:border-gray-800\">\r\n                                    <span className=\"text-gray-500 dark:text-gray-400\">HRA</span>\r\n                                    <span className=\"font-semibold text-gray-900 dark:text-white\">₹{Number(salary.hra || 0).toFixed(2)}</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Deductions Section */}\r\n                        <div>\r\n                            <h3 className=\"text-lg font-semibold mb-4 text-gray-800 dark:text-gray-200 border-b-2 border-gray-100 dark:border-gray-700 pb-2\">\r\n                                Deductions\r\n                            </h3>\r\n                            <div className=\"flex flex-col gap-4\">\r\n                                <div className=\"flex justify-between items-center pb-2 border-b border-gray-50 dark:border-gray-800\">\r\n                                    <span className=\"text-gray-500 dark:text-gray-400\">PF</span>\r\n                                    <span className=\"font-semibold text-red-500 dark:text-red-400\">-₹{Number(salary.pf || 0).toFixed(2)}</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between items-center pb-2 border-b border-gray-50 dark:border-gray-800\">\r\n                                    <span className=\"text-gray-500 dark:text-gray-400\">ESIC</span>\r\n                                    <span className=\"font-semibold text-red-500 dark:text-red-400\">-₹{Number(salary.esic || 0).toFixed(2)}</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between items-center pb-2 border-b border-gray-50 dark:border-gray-800\">\r\n                                    <span className=\"text-gray-500 dark:text-gray-400\">PTAX</span>\r\n                                    <span className=\"font-semibold text-red-500 dark:text-red-400\">-₹{Number(salary.ptax || 0).toFixed(2)}</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between items-center pb-2 pt-2 border-t border-gray-100 dark:border-gray-700 mt-2\">\r\n                                    <span className=\"font-medium text-gray-700 dark:text-gray-300\">Total Deductions</span>\r\n                                    <span className=\"font-bold text-red-600 dark:text-red-400\">-₹{Number(salary.deductions || 0).toFixed(2)}</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Gross Salary Section */}\r\n                    {/* Gross Salary Section */}\r\n                    <div className=\"mt-8 pt-6 border-t font-medium border-gray-200 dark:border-gray-700 space-y-3\">\r\n                        <div className=\"flex justify-between items-center\">\r\n                            <span className=\"text-xl text-gray-900 dark:text-white\">Gross Salary</span>\r\n                            <span className=\"text-xl font-bold text-gray-900 dark:text-white\">₹{Number(salary.gross_salary || 0).toFixed(2)}</span>\r\n                        </div>\r\n                        <div className=\"flex justify-between items-center\">\r\n                            <span className=\"text-xl text-emerald-600 dark:text-emerald-400\">Net Pay</span>\r\n                            <span className=\"text-2xl font-bold text-emerald-600 dark:text-emerald-400\">\r\n                                ₹{Number((salary.gross_salary || 0) - (salary.deductions || 0)).toFixed(2)}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </Card>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SalariesPage;\r\n"],"names":["Button","_ref","children","onClick","disabled","variant","className","type","_jsx","concat","primary","secondary","destructive","Card","_ref2","Alert","_ref3","SalariesPage","navigate","useNavigate","salary","setSalary","useState","isLoading","setIsLoading","error","setError","useEffect","async","data","api","get","id","Array","isArray","length","err","console","response","status","fetchSalary","_jsxs","Number","basic","toFixed","hra","pf","esic","ptax","deductions","gross_salary"],"sourceRoot":""}