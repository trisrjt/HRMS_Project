{"version":3,"file":"static/js/778.47691ed5.chunk.js","mappings":"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","sources":["pages/employees/LeavesPage.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport api from \"../../api/axios\";\r\n\r\n// --- UI Components ---\r\n\r\nconst Button = ({ children, onClick, disabled, variant = \"primary\", className, type = \"button\" }) => {\r\n    const variants = {\r\n        primary: \"bg-blue-600 hover:bg-blue-700 text-white shadow-md hover:shadow-lg disabled:bg-blue-300 disabled:shadow-none\",\r\n        secondary: \"bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50\",\r\n        destructive: \"bg-red-600 hover:bg-red-700 text-white shadow-md hover:shadow-lg disabled:bg-red-300 disabled:shadow-none\"\r\n    };\r\n\r\n    return (\r\n        <button\r\n            type={type}\r\n            onClick={onClick}\r\n            disabled={disabled}\r\n            className={`px-5 py-2.5 rounded-lg font-medium text-sm transition-all duration-200 flex items-center justify-center ${variants[variant]} ${disabled ? 'cursor-not-allowed' : 'cursor-pointer'} ${className}`}\r\n        >\r\n            {children}\r\n        </button>\r\n    );\r\n};\r\n\r\nconst Card = ({ children, className }) => (\r\n    <div className={`bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 transition-colors duration-200 ${className}`}>\r\n        {children}\r\n    </div>\r\n);\r\n\r\nconst Alert = ({ children, variant = \"error\" }) => (\r\n    <div className={`p-4 rounded-lg mb-4 text-sm border ${variant === \"error\"\r\n        ? \"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 text-red-700 dark:text-red-400\"\r\n        : \"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-800 text-emerald-700 dark:text-emerald-400\"\r\n        }`}>\r\n        {children}\r\n    </div>\r\n);\r\n\r\nconst Badge = ({ children, variant = \"default\" }) => {\r\n    const styles = {\r\n        default: \"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300\",\r\n        Approved: \"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400\",\r\n        Rejected: \"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400\",\r\n        Pending: \"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400\",\r\n        Withdrawn: \"bg-gray-200 text-gray-600 dark:bg-gray-600 dark:text-gray-300\",\r\n        \"Partially Approved\": \"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400\"\r\n    };\r\n\r\n    const current = styles[variant] || styles.default;\r\n\r\n    return (\r\n        <span className={`inline-flex px-2.5 py-1 rounded-full text-xs font-semibold ${current}`}>\r\n            {children}\r\n        </span>\r\n    );\r\n};\r\n\r\nconst Modal = ({ isOpen, onClose, title, children }) => {\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50 backdrop-blur-sm p-4\">\r\n            <div className=\"bg-white dark:bg-gray-800 rounded-xl w-full max-w-lg shadow-2xl transform transition-all border border-gray-200 dark:border-gray-700\">\r\n                <div className=\"p-6 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center\">\r\n                    <h3 className=\"text-lg font-bold text-gray-900 dark:text-white\">{title}</h3>\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors bg-transparent border-none cursor-pointer text-2xl leading-none\"\r\n                    >\r\n                        &times;\r\n                    </button>\r\n                </div>\r\n                <div className=\"p-6\">\r\n                    {children}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// --- Main Page Component ---\r\n\r\nconst LeavesPage = () => {\r\n    const navigate = useNavigate();\r\n    const [leaves, setLeaves] = useState([]);\r\n    const [leaveTypes, setLeaveTypes] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    // Modal & Form State\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const [formError, setFormError] = useState(null);\r\n    const [successMessage, setSuccessMessage] = useState(null);\r\n    const [formData, setFormData] = useState({\r\n        leave_type_id: \"\",\r\n        start_date: \"\",\r\n        end_date: \"\",\r\n        reason: \"\",\r\n    });\r\n\r\n    const [balances, setBalances] = useState([]);\r\n\r\n    // Fetch Data\r\n    const fetchBalances = async () => {\r\n        try {\r\n            const response = await api.get(\"/my-leaves/balances\");\r\n            setBalances(response.data || []);\r\n        } catch (err) {\r\n            console.error(\"Fetch balances error:\", err);\r\n        }\r\n    };\r\n\r\n    const fetchLeaves = async () => {\r\n        try {\r\n            // Using /my-leaves as verified in backend\r\n            const response = await api.get(\"/my-leaves\");\r\n            const data = response.data.data || response.data;\r\n            setLeaves(Array.isArray(data) ? data : []);\r\n        } catch (err) {\r\n            console.error(\"Fetch leaves error:\", err);\r\n            setError(\"Failed to load leave history.\");\r\n        }\r\n    };\r\n\r\n    const fetchLeaveTypes = async () => {\r\n        try {\r\n            const response = await api.get(\"/my-leaves/types\");\r\n            setLeaveTypes(response.data || []);\r\n        } catch (err) {\r\n            console.error(\"Fetch leave types error:\", err);\r\n            // Fallback only if API fails completely, but API should work now.\r\n            // setLeaveTypes([]); \r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const loadData = async () => {\r\n            setIsLoading(true);\r\n            await Promise.all([fetchLeaves(), fetchBalances(), fetchLeaveTypes()]);\r\n            setIsLoading(false);\r\n        };\r\n        loadData();\r\n\r\n        // Poll for updates every 10 seconds\r\n        const interval = setInterval(() => {\r\n            fetchLeaves();\r\n            fetchBalances();\r\n        }, 10000);\r\n\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    // Form Handlers\r\n    const handleInputChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData((prev) => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n    const handleWithdraw = async (id) => {\r\n        if (!window.confirm(\"Are you sure you want to withdraw this leave request?\")) return;\r\n\r\n        try {\r\n            await api.put(`/leaves/${id}/withdraw`);\r\n            setSuccessMessage(\"Leave withdrawn successfully.\");\r\n            fetchLeaves();\r\n            fetchBalances(); // Refresh balance\r\n            setTimeout(() => setSuccessMessage(null), 3000);\r\n        } catch (err) {\r\n            console.error(\"Withdraw error:\", err);\r\n            setError(err?.response?.data?.message || \"Failed to withdraw leave.\");\r\n            setTimeout(() => setError(null), 3000);\r\n        }\r\n    };\r\n\r\n    const validateForm = () => {\r\n        if (!formData.leave_type_id) return \"Please select a leave type.\";\r\n        if (!formData.start_date) return \"Start date is required.\";\r\n        if (!formData.end_date) return \"End date is required.\";\r\n        if (new Date(formData.end_date) < new Date(formData.start_date)) {\r\n            return \"End date cannot be before start date.\";\r\n        }\r\n        if (!formData.reason.trim()) return \"Please provide a reason.\";\r\n        return null;\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setFormError(null);\r\n\r\n        const validationError = validateForm();\r\n        if (validationError) {\r\n            setFormError(validationError);\r\n            return;\r\n        }\r\n\r\n        setIsSubmitting(true);\r\n\r\n        try {\r\n            // Updated to use /leaves (standard store endpoint) or /employee/apply-leave if alias exists\r\n            // Using /leaves to be safe with standard REST\r\n            await api.post(\"/leaves\", formData);\r\n\r\n            setSuccessMessage(\"Leave application submitted successfully!\");\r\n            setIsModalOpen(false);\r\n            setFormData({ leave_type_id: \"\", start_date: \"\", end_date: \"\", reason: \"\" });\r\n            await fetchLeaves(); // Reload list\r\n            await fetchBalances(); // Reload balances\r\n\r\n            // Clear success message after 3s\r\n            setTimeout(() => setSuccessMessage(null), 3000);\r\n        } catch (err) {\r\n            console.error(\"Apply leave error:\", err);\r\n            setFormError(err?.response?.data?.message || \"Failed to submit leave application.\");\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"flex justify-center items-center h-screen bg-gray-50 dark:bg-gray-900 text-gray-500 dark:text-gray-400 transition-colors\">\r\n                <div className=\"text-xl font-medium animate-pulse\">Loading leaves...</div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-6 max-w-[1200px] mx-auto bg-gray-50 dark:bg-gray-900 min-h-screen transition-colors duration-200\">\r\n\r\n            {/* Header */}\r\n            <div className=\"flex justify-between items-center mb-6 flex-wrap gap-4\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">My Leaves</h1>\r\n                    <p className=\"text-gray-500 dark:text-gray-400 mt-1\">Manage your leave applications</p>\r\n                </div>\r\n                <div className=\"flex gap-4\">\r\n                    <Button variant=\"secondary\" onClick={() => navigate(\"/employee/dashboard\")}>\r\n                        Back to Dashboard\r\n                    </Button>\r\n                    <Button onClick={() => setIsModalOpen(true)}>\r\n                        Apply Leave\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Balances Grid */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\r\n                {balances.map((balance) => (\r\n                    <div key={balance.id} className=\"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700\">\r\n                        <div className=\"text-sm text-gray-500 dark:text-gray-400 font-medium mb-1\">\r\n                            {balance.leave_type?.name || \"Leave\"}\r\n                        </div>\r\n                        <div className=\"flex items-baseline gap-1 mt-1\">\r\n                            <span className={`text-2xl font-bold ${balance.remaining_days > 0 ? 'text-gray-900 dark:text-white' : 'text-red-600 dark:text-red-400'}`}>\r\n                                {balance.remaining_days}\r\n                            </span>\r\n                            <span className=\"text-sm text-gray-500 dark:text-gray-400\">days available</span>\r\n                        </div>\r\n                        <div className=\"mt-3 pt-3 border-t border-gray-100 dark:border-gray-700 text-xs flex justify-between text-gray-400 dark:text-gray-500\">\r\n                            <span>Allocated: {balance.allocated_days}</span>\r\n                            <span>Used: {balance.used_days}</span>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            {/* Messages */}\r\n            {error && <Alert variant=\"error\">{error}</Alert>}\r\n            {successMessage && <Alert variant=\"success\"><strong>Success:</strong> {successMessage}</Alert>}\r\n\r\n            {/* Leaves List */}\r\n            <Card className=\"overflow-hidden\">\r\n                <div className=\"overflow-x-auto\">\r\n                    <table className=\"w-full text-left border-collapse\">\r\n                        <thead className=\"bg-gray-50 dark:bg-gray-700/50\">\r\n                            <tr>\r\n                                <th className=\"p-4 border-b border-gray-200 dark:border-gray-700 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Type</th>\r\n                                <th className=\"p-4 border-b border-gray-200 dark:border-gray-700 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Dates & Duration</th>\r\n                                <th className=\"p-4 border-b border-gray-200 dark:border-gray-700 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Reason</th>\r\n                                <th className=\"p-4 border-b border-gray-200 dark:border-gray-700 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Status</th>\r\n                                <th className=\"p-4 border-b border-gray-200 dark:border-gray-700 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Approved By</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"divide-y divide-gray-200 dark:divide-gray-700\">\r\n                            {leaves.length > 0 ? (\r\n                                leaves.map((leave) => {\r\n                                    const start = new Date(leave.start_date);\r\n                                    const end = new Date(leave.end_date);\r\n                                    const days = (end - start) / (1000 * 60 * 60 * 24) + 1;\r\n                                    const returnedDays = leave.approved_days ? days - leave.approved_days : 0;\r\n\r\n                                    return (\r\n                                        <tr key={leave.id} className=\"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors\">\r\n                                            <td className=\"p-4 text-sm font-medium text-gray-900 dark:text-white\">\r\n                                                {leave.leave_type?.name || \"Leave\"}\r\n                                            </td>\r\n                                            <td className=\"p-4 text-sm text-gray-700 dark:text-gray-300\">\r\n                                                <div className=\"flex flex-col\">\r\n                                                    <span className=\"font-medium\">\r\n                                                        {new Date(leave.start_date).toLocaleDateString()} - {new Date(leave.end_date).toLocaleDateString()}\r\n                                                    </span>\r\n                                                    <span className=\"text-xs text-gray-500 dark:text-gray-400 mb-1\">\r\n                                                        Requested: {days} days\r\n                                                    </span>\r\n\r\n                                                    {leave.status === 'Partially Approved' && leave.approved_days && (\r\n                                                        <div className=\"flex flex-col gap-0.5 mt-1 border-l-2 border-blue-200 pl-2\">\r\n                                                            <span className=\"text-xs text-green-600 dark:text-green-400 font-medium\">\r\n                                                                Approved: {leave.approved_days} days\r\n                                                            </span>\r\n                                                            <span className=\"text-xs text-blue-600 dark:text-blue-400\">\r\n                                                                Returned: {returnedDays} days\r\n                                                            </span>\r\n                                                        </div>\r\n                                                    )}\r\n                                                </div>\r\n                                            </td>\r\n                                            <td className=\"p-4 text-sm text-gray-700 dark:text-gray-300 max-w-xs truncate\">\r\n                                                {leave.reason}\r\n                                            </td>\r\n                                            <td className=\"p-4 text-sm\">\r\n                                                <div className=\"flex items-center gap-3\">\r\n                                                    <Badge variant={leave.status}>\r\n                                                        {leave.status}\r\n                                                    </Badge>\r\n                                                    {leave.status === 'Pending' && leave.start_date >= new Date().toISOString().split('T')[0] && (\r\n                                                        <button\r\n                                                            onClick={() => handleWithdraw(leave.id)}\r\n                                                            className=\"px-3 py-1 bg-red-600 hover:bg-red-700 text-white text-xs rounded transition-colors shadow-sm font-medium\"\r\n                                                        >\r\n                                                            Withdraw\r\n                                                        </button>\r\n                                                    )}\r\n                                                </div>\r\n                                            </td>\r\n                                            <td className=\"p-4 text-sm text-gray-700 dark:text-gray-300\">\r\n                                                {leave.approver ? (\r\n                                                    <div>\r\n                                                        <div className=\"font-medium\">{leave.approver.name}</div>\r\n                                                        <div className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                                                            {leave.approver.role_id === 1 ? 'SuperAdmin' :\r\n                                                                leave.approver.role_id === 2 ? 'Admin' :\r\n                                                                    leave.approver.role_id === 3 ? 'HR' : 'Employee'}\r\n                                                        </div>\r\n                                                    </div>\r\n                                                ) : (\r\n                                                    <span className=\"text-gray-400 dark:text-gray-500 text-xs\">-</span>\r\n                                                )}\r\n                                            </td>\r\n                                        </tr>\r\n                                    );\r\n                                })\r\n                            ) : (\r\n                                <tr>\r\n                                    <td colSpan=\"5\" className=\"p-8 text-center text-gray-500 dark:text-gray-400\">\r\n                                        No leave applications found.\r\n                                    </td>\r\n                                </tr>\r\n                            )}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </Card>\r\n\r\n            {/* Apply Leave Modal */}\r\n            <Modal\r\n                isOpen={isModalOpen}\r\n                onClose={() => setIsModalOpen(false)}\r\n                title=\"Apply for Leave\"\r\n            >\r\n                {formError && <Alert variant=\"error\">{formError}</Alert>}\r\n\r\n                <form onSubmit={handleSubmit} className=\"flex flex-col gap-4\">\r\n                    <div>\r\n                        <label htmlFor=\"leave_type_id\" className=\"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300\">Leave Type</label>\r\n                        <select\r\n                            id=\"leave_type_id\"\r\n                            name=\"leave_type_id\"\r\n                            value={formData.leave_type_id}\r\n                            onChange={handleInputChange}\r\n                            required\r\n                            className=\"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                        >\r\n                            <option value=\"\">Select Type</option>\r\n                            {leaveTypes.map(type => (\r\n                                <option key={type.id} value={type.id}>{type.name}</option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                        <div>\r\n                            <label htmlFor=\"start_date\" className=\"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300\">Start Date</label>\r\n                            <input\r\n                                type=\"date\"\r\n                                id=\"start_date\"\r\n                                name=\"start_date\"\r\n                                value={formData.start_date}\r\n                                onChange={handleInputChange}\r\n                                required\r\n                                className=\"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label htmlFor=\"end_date\" className=\"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300\">End Date</label>\r\n                            <input\r\n                                type=\"date\"\r\n                                id=\"end_date\"\r\n                                name=\"end_date\"\r\n                                value={formData.end_date}\r\n                                onChange={handleInputChange}\r\n                                required\r\n                                className=\"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label htmlFor=\"reason\" className=\"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300\">Reason</label>\r\n                        <textarea\r\n                            id=\"reason\"\r\n                            name=\"reason\"\r\n                            value={formData.reason}\r\n                            onChange={handleInputChange}\r\n                            rows=\"3\"\r\n                            required\r\n                            className=\"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                            placeholder=\"Please provide a reason for your leave...\"\r\n                        ></textarea>\r\n                    </div>\r\n\r\n                    <div className=\"flex justify-end gap-3 mt-4\">\r\n                        <Button variant=\"secondary\" onClick={() => setIsModalOpen(false)}>\r\n                            Cancel\r\n                        </Button>\r\n                        <Button type=\"submit\" disabled={isSubmitting}>\r\n                            {isSubmitting ? \"Applying...\" : \"Apply Leave\"}\r\n                        </Button>\r\n                    </div>\r\n                </form>\r\n            </Modal>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LeavesPage;\r\n"],"names":["Button","_ref","children","onClick","disabled","variant","className","type","_jsx","concat","primary","secondary","destructive","Card","_ref2","Alert","_ref3","Badge","_ref4","styles","default","Approved","Rejected","Pending","Withdrawn","current","Modal","_ref5","isOpen","onClose","title","_jsxs","LeavesPage","navigate","useNavigate","leaves","setLeaves","useState","leaveTypes","setLeaveTypes","isLoading","setIsLoading","error","setError","isModalOpen","setIsModalOpen","isSubmitting","setIsSubmitting","formError","setFormError","successMessage","setSuccessMessage","formData","setFormData","leave_type_id","start_date","end_date","reason","balances","setBalances","fetchBalances","async","response","api","get","data","err","console","fetchLeaves","Array","isArray","fetchLeaveTypes","useEffect","Promise","all","loadData","interval","setInterval","clearInterval","handleInputChange","e","name","value","target","prev","_objectSpread","map","balance","_balance$leave_type","leave_type","remaining_days","allocated_days","used_days","id","length","leave","_leave$leave_type","start","Date","days","returnedDays","approved_days","toLocaleDateString","status","toISOString","split","window","confirm","put","setTimeout","_err$response","_err$response$data","message","handleWithdraw","approver","role_id","colSpan","onSubmit","preventDefault","validationError","trim","post","_err$response2","_err$response2$data","htmlFor","onChange","required","rows","placeholder"],"sourceRoot":""}