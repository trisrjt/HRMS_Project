{"version":3,"file":"static/js/466.2f7341f2.chunk.js","mappings":"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","sources":["pages/employees/AnnouncementsPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport api from '../../api/axios';\r\n\r\n// --- UI Components ---\r\n\r\nconst Button = ({ children, onClick, disabled, variant = \"primary\", className }) => {\r\n    const variants = {\r\n        primary: \"bg-blue-600 hover:bg-blue-700 text-white shadow-md hover:shadow-lg disabled:bg-blue-300 disabled:shadow-none\",\r\n        secondary: \"bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50\",\r\n    };\r\n\r\n    return (\r\n        <button\r\n            onClick={onClick}\r\n            disabled={disabled}\r\n            className={`px-5 py-2.5 rounded-lg font-medium text-sm transition-all duration-200 flex items-center justify-center ${variants[variant]} ${disabled ? 'cursor-not-allowed' : 'cursor-pointer'} ${className}`}\r\n        >\r\n            {children}\r\n        </button>\r\n    );\r\n};\r\n\r\nconst Alert = ({ children, variant = \"error\" }) => (\r\n    <div className={`p-4 rounded-lg mb-4 text-sm border ${variant === \"error\"\r\n        ? \"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 text-red-700 dark:text-red-400\"\r\n        : \"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-400\"\r\n        }`}>\r\n        {children}\r\n    </div>\r\n);\r\n\r\nconst AnnouncementsPage = () => {\r\n    const navigate = useNavigate();\r\n    const [announcements, setAnnouncements] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        fetchAnnouncements();\r\n    }, []);\r\n\r\n    const fetchAnnouncements = async () => {\r\n        try {\r\n            // Using /announcements as requested\r\n            const response = await api.get('/announcements');\r\n            // Laravel ResourceCollection usually places data in a 'data' property\r\n            const data = response.data.data || response.data;\r\n\r\n            if (Array.isArray(data)) {\r\n                setAnnouncements(data);\r\n            } else {\r\n                // If response is paginated but we just got specific page data object without data key? \r\n                // Fallback to empty array if format is unexpected\r\n                console.error('Unexpected response format:', response.data);\r\n                setAnnouncements([]);\r\n                setError('Invalid data format received from server.');\r\n            }\r\n        } catch (err) {\r\n            console.error('Error fetching announcements:', err);\r\n            setError(err.response?.data?.message || 'Failed to load announcements.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const formatDate = (dateString) => {\r\n        if (!dateString) return '';\r\n        return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n            year: 'numeric',\r\n            month: 'long',\r\n            day: 'numeric'\r\n        });\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex justify-center items-center h-screen bg-gray-50 dark:bg-gray-900 text-gray-500 dark:text-gray-400 transition-colors\">\r\n                <div className=\"text-xl font-medium animate-pulse\">Loading announcements...</div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-6 max-w-[1200px] mx-auto bg-gray-50 dark:bg-gray-900 min-h-screen transition-colors duration-200\">\r\n\r\n            {/* Header */}\r\n            <div className=\"flex justify-between items-center mb-8 flex-wrap gap-4\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">Announcements</h1>\r\n                    <p className=\"text-gray-500 dark:text-gray-400 mt-1\">Latest updates and news</p>\r\n                </div>\r\n                <div>\r\n                    <Button variant=\"secondary\" onClick={() => navigate(\"/employee/dashboard\")}>\r\n                        Back to Dashboard\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Error State */}\r\n            {error && <Alert variant=\"error\">{error}</Alert>}\r\n\r\n            {/* Content */}\r\n            {!loading && !error && announcements.length === 0 ? (\r\n                <div className=\"flex flex-col items-center justify-center py-16 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 text-center shadow-sm\">\r\n                    <div className=\"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mb-4 text-gray-400 dark:text-gray-500\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-8 w-8\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\" />\r\n                        </svg>\r\n                    </div>\r\n                    <h3 className=\"text-lg font-medium text-gray-900 dark:text-white\">No announcements yet</h3>\r\n                    <p className=\"text-gray-500 dark:text-gray-400 mt-1 max-w-sm\">\r\n                        Check back later for news and updates from the administration.\r\n                    </p>\r\n                </div>\r\n            ) : (\r\n                <div className=\"grid gap-6\">\r\n                    {announcements.map((announcement) => (\r\n                        <div\r\n                            key={announcement.id}\r\n                            className=\"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow duration-200 relative overflow-hidden\"\r\n                        >\r\n                            <div className=\"absolute top-0 left-0 w-1 h-full bg-blue-500\"></div>\r\n                            <div className=\"flex flex-col md:flex-row md:justify-between md:items-start mb-4 gap-2\">\r\n                                <h3 className=\"text-xl font-bold text-gray-900 dark:text-white leading-tight\">\r\n                                    {announcement.title}\r\n                                </h3>\r\n                                <div className=\"flex items-center text-xs font-medium text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-3 py-1 rounded-full whitespace-nowrap\">\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-3.5 w-3.5 mr-1.5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                                        <path fillRule=\"evenodd\" d=\"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z\" clipRule=\"evenodd\" />\r\n                                    </svg>\r\n                                    {formatDate(announcement.created_at)}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"prose dark:prose-invert max-w-none text-gray-700 dark:text-gray-300 leading-relaxed whitespace-pre-line mb-4\">\r\n                                {announcement.content || announcement.message}\r\n                            </div>\r\n\r\n                            {announcement.attachment_url && (\r\n                                <div className=\"mt-4 pt-4 border-t border-gray-100 dark:border-gray-700\">\r\n                                    <a\r\n                                        href={announcement.attachment_url}\r\n                                        target=\"_blank\"\r\n                                        rel=\"noopener noreferrer\"\r\n                                        className=\"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 transition-colors\"\r\n                                    >\r\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\" />\r\n                                        </svg>\r\n                                        View Attachment\r\n                                    </a>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AnnouncementsPage;\r\n"],"names":["Button","_ref","children","onClick","disabled","variant","className","_jsx","concat","primary","secondary","Alert","_ref2","AnnouncementsPage","navigate","useNavigate","announcements","setAnnouncements","useState","loading","setLoading","error","setError","useEffect","fetchAnnouncements","async","response","api","get","data","Array","isArray","console","err","_err$response","_err$response$data","message","_jsxs","length","map","announcement","title","xmlns","viewBox","fill","fillRule","d","clipRule","dateString","created_at","Date","toLocaleDateString","year","month","day","content","attachment_url","href","target","rel","stroke","strokeLinecap","strokeLinejoin","strokeWidth","id"],"sourceRoot":""}