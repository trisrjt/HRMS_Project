"use strict";(self.webpackChunkfrontend_react=self.webpackChunkfrontend_react||[]).push([[795],{7795:(e,r,a)=>{a.r(r),a.d(r,{default:()=>g});var t=a(5043),s=a(8163),d=a(1321),l=a(579);const i=e=>{let{children:r,onClick:a,disabled:t,variant:s="primary",className:d,type:i="button"}=e;return(0,l.jsx)("button",{type:i,onClick:a,disabled:t,className:"px-5 py-2.5 rounded-lg font-medium text-sm transition-all duration-200 flex items-center justify-center ".concat({primary:"bg-blue-600 hover:bg-blue-700 text-white shadow-md hover:shadow-lg disabled:bg-blue-300 disabled:shadow-none",secondary:"bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50",destructive:"bg-red-600 hover:bg-red-700 text-white shadow-md hover:shadow-lg disabled:bg-red-300 disabled:shadow-none",success:"bg-emerald-600 hover:bg-emerald-700 text-white shadow-md hover:shadow-lg disabled:bg-emerald-300 disabled:shadow-none"}[s]," ").concat(t?"cursor-not-allowed":"cursor-pointer"," ").concat(d),children:r})},n=e=>{let{children:r,className:a}=e;return(0,l.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 transition-colors duration-200 ".concat(a),children:r})},o=e=>{let{children:r,variant:a="error"}=e;return(0,l.jsx)("div",{className:"p-4 rounded-lg mb-4 text-sm border ".concat("error"===a?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 text-red-700 dark:text-red-400":"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-800 text-emerald-700 dark:text-emerald-400"),children:r})},c=e=>{let{isOpen:r,onClose:a,title:t,children:s}=e;return r?(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50 backdrop-blur-sm p-4",children:(0,l.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-2xl shadow-2xl transform transition-all border border-gray-200 dark:border-gray-700 max-h-[90vh] overflow-y-auto",children:[(0,l.jsxs)("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center sticky top-0 bg-white dark:bg-gray-800 z-10",children:[(0,l.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:t}),(0,l.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors bg-transparent border-none cursor-pointer text-2xl leading-none",children:"\xd7"})]}),(0,l.jsx)("div",{className:"p-6",children:s})]})}):null},x=e=>{const r=new Date;return r.setMonth(e-1),r.toLocaleString("default",{month:"long"})},g=()=>{const e=(0,s.Zp)(),[r,a]=(0,t.useState)([]),[g,b]=(0,t.useState)(!0),[h,y]=(0,t.useState)(null),[m,p]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{try{const{data:e}=await d.A.get("/my-payslips"),r=e.data||e;a(Array.isArray(r)?r:[])}catch(e){e.response&&403===e.response.status?y("You do not have permission to view or download payslips. Please contact your administrator."):(console.error("Fetch payslips error:",e),y("Failed to load payslips."))}finally{b(!1)}})()},[]);return g?(0,l.jsx)("div",{className:"flex justify-center items-center h-screen bg-gray-50 dark:bg-gray-900 text-gray-500 dark:text-gray-400 transition-colors",children:(0,l.jsx)("div",{className:"text-xl font-medium animate-pulse",children:"Loading payslips..."})}):(0,l.jsxs)("div",{className:"p-6 max-w-[1200px] mx-auto bg-gray-50 dark:bg-gray-900 min-h-screen transition-colors duration-200",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-8 flex-wrap gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"My Payslips"}),(0,l.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"View and download your salary statements"})]}),(0,l.jsx)("div",{className:"flex gap-4",children:(0,l.jsx)(i,{variant:"secondary",onClick:()=>e("/employee/dashboard"),children:"Back to Dashboard"})})]}),h&&(0,l.jsx)(o,{variant:"error",children:h}),(0,l.jsx)(n,{className:"overflow-hidden",children:(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,l.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"p-4 border-b border-gray-200 dark:border-gray-700 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Month"}),(0,l.jsx)("th",{className:"p-4 border-b border-gray-200 dark:border-gray-700 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Year"}),(0,l.jsx)("th",{className:"p-4 border-b border-gray-200 dark:border-gray-700 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Net Pay"}),(0,l.jsx)("th",{className:"p-4 border-b border-gray-200 dark:border-gray-700 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Generated On"}),(0,l.jsx)("th",{className:"p-4 border-b border-gray-200 dark:border-gray-700 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider text-right",children:"Actions"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:r.length>0?r.map(e=>{return(0,l.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[(0,l.jsx)("td",{className:"p-4 text-sm font-medium text-gray-900 dark:text-white",children:x(e.month)}),(0,l.jsx)("td",{className:"p-4 text-sm text-gray-700 dark:text-gray-300",children:e.year}),(0,l.jsxs)("td",{className:"p-4 text-sm font-bold text-emerald-600 dark:text-emerald-400",children:["\u20b9",Number(e.net_pay).toFixed(2)]}),(0,l.jsx)("td",{className:"p-4 text-sm text-gray-500 dark:text-gray-400",children:(r=e.created_at,new Date(r).toLocaleDateString())}),(0,l.jsx)("td",{className:"p-4 text-sm text-right",children:(0,l.jsx)("div",{className:"flex justify-end gap-2",children:(0,l.jsx)(i,{variant:"secondary",className:"px-3 py-1.5 text-xs",onClick:()=>(e=>{p(e)})(e),children:"View"})})})]},e.id);var r}):(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:"5",className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"No payslips found."})})})]})})}),(0,l.jsx)(c,{isOpen:!!m,onClose:()=>p(null),title:"Payslip: ".concat(m?x(m.month)+" "+m.year:""),children:m&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4 border-b border-gray-200 dark:border-gray-700 pb-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Net Pay"}),(0,l.jsxs)("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:["\u20b9",Number(m.net_pay).toFixed(2)]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),(0,l.jsx)("span",{className:"inline-block px-2 py-1 rounded-full bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400 text-xs font-semibold mt-1",children:"Paid"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3 border-b border-gray-100 dark:border-gray-700 pb-1",children:"Earnings"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between text-gray-700 dark:text-gray-300",children:[(0,l.jsx)("span",{children:"Basic Salary"}),(0,l.jsxs)("span",{children:["\u20b9",Number(m.basic).toFixed(2)]})]}),(0,l.jsxs)("div",{className:"flex justify-between text-gray-700 dark:text-gray-300",children:[(0,l.jsx)("span",{children:"HRA"}),(0,l.jsxs)("span",{children:["\u20b9",Number(m.hra).toFixed(2)]})]}),(0,l.jsxs)("div",{className:"flex justify-between font-medium pt-2 border-t border-gray-100 dark:border-gray-700 text-gray-900 dark:text-white",children:[(0,l.jsx)("span",{children:"Total Earnings"}),(0,l.jsxs)("span",{children:["\u20b9",Number(m.total_earnings).toFixed(2)]})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3 border-b border-gray-100 dark:border-gray-700 pb-1",children:"Deductions"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between text-gray-700 dark:text-gray-300",children:[(0,l.jsx)("span",{children:"PF"}),(0,l.jsxs)("span",{children:["\u20b9",Number(m.pf).toFixed(2)]})]}),(0,l.jsxs)("div",{className:"flex justify-between text-gray-700 dark:text-gray-300",children:[(0,l.jsx)("span",{children:"ESIC"}),(0,l.jsxs)("span",{children:["\u20b9",Number(m.esic).toFixed(2)]})]}),(0,l.jsxs)("div",{className:"flex justify-between text-gray-700 dark:text-gray-300",children:[(0,l.jsx)("span",{children:"PTAX"}),(0,l.jsxs)("span",{children:["\u20b9",Number(m.ptax).toFixed(2)]})]}),(0,l.jsxs)("div",{className:"flex justify-between font-medium pt-2 border-t border-gray-100 dark:border-gray-700 text-red-600 dark:text-red-400",children:[(0,l.jsx)("span",{children:"Total Deductions"}),(0,l.jsxs)("span",{children:["-\u20b9",Number(m.total_deductions).toFixed(2)]})]})]})]})]}),(0,l.jsxs)("div",{className:"pt-6 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-3",children:[(0,l.jsx)(i,{variant:"secondary",onClick:()=>p(null),children:"Close"}),(0,l.jsx)(i,{variant:"primary",onClick:()=>window.print(),children:"Print / Download PDF"})]})]})})]})}}}]);
//# sourceMappingURL=795.65312eea.chunk.js.map