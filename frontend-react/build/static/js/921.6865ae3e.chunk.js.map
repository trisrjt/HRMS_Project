{"version":3,"file":"static/js/921.6865ae3e.chunk.js","mappings":"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","sources":["pages/employees/AttendancePage.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport api from \"../../api/axios\";\r\nimport { formatTime, calculateHours, calculateWeeklyStats, calculateMonthlyStats } from \"../../utils/dateUtils\";\r\n\r\n// --- UI Components ---\r\n\r\nconst Card = ({ children, className }) => (\r\n    <div className={`bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 transition-colors duration-200 ${className}`}>\r\n        {children}\r\n    </div>\r\n);\r\n\r\nconst CardHeader = ({ children }) => (\r\n    <div className=\"p-6 border-b border-gray-100 dark:border-gray-700\">\r\n        {children}\r\n    </div>\r\n);\r\n\r\nconst CardContent = ({ children, className }) => (\r\n    <div className={`p-6 ${className}`}>\r\n        {children}\r\n    </div>\r\n);\r\n\r\nconst CardTitle = ({ children }) => (\r\n    <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white m-0\">\r\n        {children}\r\n    </h2>\r\n);\r\n\r\nconst Button = ({ children, onClick, disabled, variant = \"primary\", className }) => {\r\n    const variants = {\r\n        primary: \"bg-blue-600 hover:bg-blue-700 text-white shadow-md hover:shadow-lg disabled:bg-blue-300 disabled:shadow-none\",\r\n        success: \"bg-emerald-600 hover:bg-emerald-700 text-white shadow-md hover:shadow-lg disabled:bg-emerald-300 disabled:shadow-none\",\r\n        outline: \"bg-transparent border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50\",\r\n        destructive: \"bg-red-600 hover:bg-red-700 text-white shadow-md hover:shadow-lg disabled:bg-red-300 disabled:shadow-none\"\r\n    };\r\n\r\n    return (\r\n        <button\r\n            onClick={onClick}\r\n            disabled={disabled}\r\n            className={`px-5 py-2.5 rounded-lg font-medium text-sm transition-all duration-200 flex items-center justify-center ${variants[variant]} ${disabled ? 'cursor-not-allowed' : 'cursor-pointer'} ${className}`}\r\n        >\r\n            {children}\r\n        </button>\r\n    );\r\n};\r\n\r\nconst Alert = ({ children, variant = \"error\" }) => (\r\n    <div className={`p-4 rounded-lg mb-4 text-sm border ${variant === \"error\"\r\n        ? \"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 text-red-700 dark:text-red-400\"\r\n        : \"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-800 text-emerald-700 dark:text-emerald-400\"\r\n        }`}>\r\n        {children}\r\n    </div>\r\n);\r\n\r\nconst Badge = ({ children, variant = \"default\" }) => {\r\n    const styles = {\r\n        default: \"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300\",\r\n        success: \"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400\",\r\n        danger: \"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400\",\r\n        warning: \"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400\",\r\n        Present: \"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400\",\r\n        Absent: \"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400\",\r\n        Late: \"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400\",\r\n        \"Half Day\": \"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400\"\r\n    };\r\n\r\n    const current = styles[variant] || styles.default;\r\n\r\n    return (\r\n        <span className={`inline-flex px-2.5 py-1 rounded-full text-xs font-semibold ${current}`}>\r\n            {children}\r\n        </span>\r\n    );\r\n};\r\n\r\n// --- Main Page Component ---\r\n\r\nconst AttendancePage = () => {\r\n    const [attendance, setAttendance] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [actionError, setActionError] = useState(null);\r\n    const [successMessage, setSuccessMessage] = useState(null);\r\n    const [isCheckingIn, setIsCheckingIn] = useState(false);\r\n    const [isCheckingOut, setIsCheckingOut] = useState(false);\r\n\r\n    // Month Filter State\r\n    const [selectedMonth, setSelectedMonth] = useState(new Date().toISOString().slice(0, 7)); // YYYY-MM\r\n\r\n    // Fetch Attendance Data\r\n    const fetchAttendance = async () => {\r\n        try {\r\n            setError(null);\r\n            // Using /my-attendance which is the correct existing endpoint\r\n            const response = await api.get(\"/my-attendance\");\r\n            const data = response.data.data || response.data; // Handle pagination if present\r\n            setAttendance(Array.isArray(data) ? data : []);\r\n        } catch (err) {\r\n            console.error(\"Fetch error:\", err);\r\n            setError(\"Failed to load attendance records. Please try again later.\");\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchAttendance();\r\n    }, []);\r\n\r\n    // Clear messages after 3 seconds\r\n    useEffect(() => {\r\n        if (successMessage || actionError) {\r\n            const timer = setTimeout(() => {\r\n                setSuccessMessage(null);\r\n                setActionError(null);\r\n            }, 3000);\r\n            return () => clearTimeout(timer);\r\n        }\r\n    }, [successMessage, actionError]);\r\n\r\n    // Check In Handler\r\n    const handleCheckIn = async () => {\r\n        try {\r\n            setIsCheckingIn(true);\r\n            setActionError(null);\r\n            await api.post(\"/my-attendance/check-in\");\r\n            setSuccessMessage(\"Checked in successfully!\");\r\n            await fetchAttendance(); // Reload list\r\n        } catch (err) {\r\n            console.error(\"Check-in error:\", err);\r\n            setActionError(err?.response?.data?.message || \"Failed to check in.\");\r\n        } finally {\r\n            setIsCheckingIn(false);\r\n        }\r\n    };\r\n\r\n    // Check Out Handler\r\n    const handleCheckOut = async () => {\r\n        try {\r\n            setIsCheckingOut(true);\r\n            setActionError(null);\r\n            await api.post(\"/my-attendance/check-out\");\r\n            setSuccessMessage(\"Checked out successfully!\");\r\n            await fetchAttendance(); // Reload list\r\n        } catch (err) {\r\n            console.error(\"Check-out error:\", err);\r\n            setActionError(err?.response?.data?.message || \"Failed to check out.\");\r\n        } finally {\r\n            setIsCheckingOut(false);\r\n        }\r\n    };\r\n\r\n    // Determine today's status for button states\r\n    const today = new Date().toISOString().split(\"T\")[0];\r\n    const todayRecord = attendance.find(\r\n        (record) => new Date(record.date).toISOString().split(\"T\")[0] === today\r\n    );\r\n    const isCheckedInToday = !!todayRecord?.check_in;\r\n    const isCheckedOutToday = !!todayRecord?.check_out;\r\n\r\n    // Calculate Stats\r\n    const weeklyStats = calculateWeeklyStats(attendance);\r\n    const monthlyStats = calculateMonthlyStats(attendance, selectedMonth);\r\n\r\n    // Filter attendance for display based on selected month\r\n    const filteredAttendance = attendance.filter(record => record.date.startsWith(selectedMonth));\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"flex justify-center items-center h-screen bg-gray-50 dark:bg-gray-900 text-gray-500 dark:text-gray-400 transition-colors\">\r\n                <div className=\"text-xl font-medium animate-pulse\">Loading attendance...</div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-6 max-w-[1200px] mx-auto bg-gray-50 dark:bg-gray-900 min-h-screen transition-colors duration-200\">\r\n\r\n            {/* Header & Actions */}\r\n            <div className=\"flex flex-col gap-6 mb-8\">\r\n                <div className=\"flex justify-between items-center flex-wrap gap-4\">\r\n                    <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">My Attendance</h1>\r\n\r\n                    <div className=\"flex gap-4\">\r\n                        <Button\r\n                            onClick={handleCheckIn}\r\n                            disabled={isCheckingIn || isCheckedInToday}\r\n                            variant=\"success\"\r\n                        >\r\n                            {isCheckingIn ? \"Checking In...\" : isCheckedInToday ? \"Checked In\" : \"Check In\"}\r\n                        </Button>\r\n\r\n                        <Button\r\n                            onClick={handleCheckOut}\r\n                            disabled={isCheckingOut || !isCheckedInToday || isCheckedOutToday}\r\n                            variant=\"destructive\"\r\n                        >\r\n                            {isCheckingOut ? \"Checking Out...\" : isCheckedOutToday ? \"Checked Out\" : \"Check Out\"}\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Messages */}\r\n                {actionError && (\r\n                    <Alert variant=\"error\">\r\n                        <strong>Error:</strong> {actionError}\r\n                    </Alert>\r\n                )}\r\n                {successMessage && (\r\n                    <Alert variant=\"success\">\r\n                        <strong>Success:</strong> {successMessage}\r\n                    </Alert>\r\n                )}\r\n                {error && (\r\n                    <Alert variant=\"error\">\r\n                        {error}\r\n                    </Alert>\r\n                )}\r\n            </div>\r\n\r\n            {/* Summaries Grid */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\">\r\n\r\n                {/* Weekly Summary */}\r\n                <div className=\"p-6 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm transition-colors duration-200\">\r\n                    <div className=\"text-sm text-gray-500 dark:text-gray-400 mb-2 font-medium uppercase tracking-wide\">This Week</div>\r\n                    <div className=\"flex items-baseline gap-2 mb-4\">\r\n                        <span className=\"text-3xl font-bold text-gray-900 dark:text-white\">{weeklyStats.formatted || \"0h 0m\"}</span>\r\n                        <span className=\"text-sm text-gray-500 dark:text-gray-400\">worked</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between text-sm text-gray-500 dark:text-gray-400 border-t border-gray-100 dark:border-gray-700 pt-4\">\r\n                        <span>Days: <strong className=\"text-gray-700 dark:text-gray-300\">{weeklyStats.daysWorked || 0}</strong></span>\r\n                        <span>Avg: <strong className=\"text-gray-700 dark:text-gray-300\">{weeklyStats.average || \"0h\"}</strong> / day</span>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Monthly Summary */}\r\n                <div className=\"p-6 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm transition-colors duration-200\">\r\n                    <div className=\"flex justify-between items-center mb-2\">\r\n                        <div className=\"text-sm text-gray-500 dark:text-gray-400 font-medium uppercase tracking-wide\">Monthly Overview</div>\r\n                        <input\r\n                            type=\"month\"\r\n                            id=\"month-filter\"\r\n                            name=\"month-filter\"\r\n                            value={selectedMonth}\r\n                            onChange={(e) => setSelectedMonth(e.target.value)}\r\n                            className=\"bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-200 text-sm px-3 py-1 rounded border border-gray-200 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"flex items-baseline gap-2 mb-4\">\r\n                        <span className=\"text-3xl font-bold text-gray-900 dark:text-white\">{monthlyStats.formatted || \"0h 0m\"}</span>\r\n                        <span className=\"text-sm text-gray-500 dark:text-gray-400\">worked</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between text-sm text-gray-500 dark:text-gray-400 border-t border-gray-100 dark:border-gray-700 pt-4\">\r\n                        <span>Days: <strong className=\"text-gray-700 dark:text-gray-300\">{monthlyStats.daysWorked || 0}</strong></span>\r\n                        <span>Avg: <strong className=\"text-gray-700 dark:text-gray-300\">{monthlyStats.average || \"0h\"}</strong> / day</span>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            {/* Attendance List */}\r\n            <Card className=\"overflow-hidden\">\r\n                <CardHeader>\r\n                    <CardTitle>Attendance History ({new Date(selectedMonth + \"-01\").toLocaleString('default', { month: 'long', year: 'numeric' })})</CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"p-0\">\r\n                    <div className=\"overflow-x-auto\">\r\n                        <table className=\"w-full text-left border-collapse\">\r\n                            <thead className=\"bg-gray-50 dark:bg-gray-700/50\">\r\n                                <tr>\r\n                                    <th className=\"p-4 border-b border-gray-200 dark:border-gray-700 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Date</th>\r\n                                    <th className=\"p-4 border-b border-gray-200 dark:border-gray-700 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Check In</th>\r\n                                    <th className=\"p-4 border-b border-gray-200 dark:border-gray-700 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Check Out</th>\r\n                                    <th className=\"p-4 border-b border-gray-200 dark:border-gray-700 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Hours</th>\r\n                                    <th className=\"p-4 border-b border-gray-200 dark:border-gray-700 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Status</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody className=\"divide-y divide-gray-200 dark:divide-gray-700\">\r\n                                {filteredAttendance.length > 0 ? (\r\n                                    filteredAttendance.map((record) => (\r\n                                        <tr key={record.id} className=\"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors\">\r\n                                            <td className=\"p-4 text-sm font-medium text-gray-900 dark:text-white\">\r\n                                                {new Date(record.date).toLocaleDateString(\"en-US\", {\r\n                                                    weekday: 'short', year: 'numeric', month: 'short', day: 'numeric'\r\n                                                })}\r\n                                            </td>\r\n                                            <td className=\"p-4 text-sm text-gray-700 dark:text-gray-300\">\r\n                                                {record.check_in ? formatTime(record.check_in, record.date) : \"--:--\"}\r\n                                            </td>\r\n                                            <td className=\"p-4 text-sm text-gray-700 dark:text-gray-300\">\r\n                                                {record.check_out ? formatTime(record.check_out, record.date) : \"--:--\"}\r\n                                            </td>\r\n                                            <td className=\"p-4 text-sm font-semibold text-indigo-600 dark:text-indigo-400\">\r\n                                                {calculateHours(record.check_in, record.check_out)}\r\n                                            </td>\r\n                                            <td className=\"p-4 text-sm\">\r\n                                                <Badge variant={record.status}>\r\n                                                    {record.status}\r\n                                                </Badge>\r\n                                            </td>\r\n                                        </tr>\r\n                                    ))\r\n                                ) : (\r\n                                    <tr>\r\n                                        <td colSpan=\"5\" className=\"p-8 text-center text-gray-500 dark:text-gray-400\">\r\n                                            No attendance records found for this month.\r\n                                        </td>\r\n                                    </tr>\r\n                                )}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </CardContent>\r\n            </Card>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AttendancePage;\r\n"],"names":["Card","_ref","children","className","_jsx","concat","CardHeader","_ref2","CardContent","_ref3","CardTitle","_ref4","Button","_ref5","onClick","disabled","variant","primary","success","outline","destructive","Alert","_ref6","Badge","_ref7","styles","default","danger","warning","Present","Absent","Late","current","AttendancePage","attendance","setAttendance","useState","isLoading","setIsLoading","error","setError","actionError","setActionError","successMessage","setSuccessMessage","isCheckingIn","setIsCheckingIn","isCheckingOut","setIsCheckingOut","selectedMonth","setSelectedMonth","Date","toISOString","slice","fetchAttendance","async","response","api","get","data","Array","isArray","err","console","useEffect","timer","setTimeout","clearTimeout","today","split","todayRecord","find","record","date","isCheckedInToday","check_in","isCheckedOutToday","check_out","weeklyStats","calculateWeeklyStats","monthlyStats","calculateMonthlyStats","filteredAttendance","filter","startsWith","_jsxs","post","_err$response","_err$response$data","message","_err$response2","_err$response2$data","formatted","daysWorked","average","type","id","name","value","onChange","e","target","toLocaleString","month","year","length","map","toLocaleDateString","weekday","day","formatTime","calculateHours","status","colSpan"],"sourceRoot":""}